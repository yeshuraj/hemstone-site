/* --- Global Styles & Variables --- */
:root {
    --background-light: #ffffff;
    --text-light: #1d1d1f;
    --subtle-text-light: #6e6e73;
    --border-light: #d2d2d7;
    --button-bg-light: rgba(255, 255, 255, 0.8);
    --modal-bg-light: #f5f5f7;

    --background-dark: #161617;
    --text-dark: #f5f5f7;
    --subtle-text-dark: #a1a1a6;
    --border-dark: #424245;
    --button-bg-dark: rgba(30, 30, 30, 0.8);
    --modal-bg-dark: #1d1d1f;

    --bg-color: var(--background-light);
    --text-color: var(--text-light);
    --subtle-text-color: var(--subtle-text-light);
    --border-color: var(--border-light);
    --button-bg: var(--button-bg-light);
    --modal-bg: var(--modal-bg-light);

    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

body.dark-mode {
    --bg-color: var(--background-dark);
    --text-color: var(--text-dark);
    --subtle-text-color: var(--subtle-text-dark);
    --border-color: var(--border-dark);
    --button-bg: var(--button-bg-dark);
    --modal-bg: var(--modal-bg-dark);
}

* { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
    font-family: var(--font-family);
    background-color: var(--bg-color);
    color: var(--text-color);
    transition: background-color 0.3s ease, color 0.3s ease;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* --- Header --- (No changes from previous version) */
.main-header{position:fixed;top:0;left:0;width:100%;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);background-color:var(--button-bg);border-bottom:1px solid var(--border-color);z-index:1000;transition:background-color .3s ease,border-color .3s ease}.header-content{display:flex;justify-content:space-between;align-items:center;max-width:1100px;margin:0 auto;padding:12px 20px}.logo{font-size:18px;font-weight:600;color:var(--text-color);text-decoration:none}.main-nav{display:flex;gap:10px}.nav-button{font-family:var(--font-family);font-size:14px;font-weight:400;padding:8px 16px;border:1px solid transparent;border-radius:980px;background-color:var(--subtle-text-light);color:var(--background-light);cursor:pointer;transition:all .2s ease}.dark-mode .nav-button{background-color:var(--subtle-text-dark);color:var(--background-dark)}.nav-button:hover{opacity:.8}.theme-toggle-button{display:flex;align-items:center;justify-content:center;padding:8px}.theme-toggle-button .moon{display:none}.theme-toggle-button .sun{display:block}.dark-mode .theme-toggle-button .moon{display:block}.dark-mode .theme-toggle-button .sun{display:none}

/* --- Main Content & Sections --- */
main { padding-top: 60px; }
.content-section { max-width: 1100px; margin: 0 auto; padding: 60px 20px; }

/* --- Carousel --- (No changes from previous version) */
#hero-carousel{width:100%;overflow:hidden;position:relative}.carousel-container{display:flex;transition:transform .5s ease-in-out}.carousel-slide{min-width:100%;height:50vh;max-height:450px}.carousel-slide img{width:100%;height:100%;object-fit:cover}

/* --- About Section --- */
.about-container{display:flex;align-items:center;gap:60px}.about-image{flex:0 0 300px}.about-image img{width:100%;border-radius:16px;object-fit:cover;aspect-ratio:1 / 1.2}.about-text{flex:1}.about-text p{font-size:18px;line-height:1.7;color:var(--subtle-text-color)}.about-text p:not(:last-child){margin-bottom:20px}

/* --- Portfolio Grid (Masonry) --- */
.portfolio-section { padding-top: 20px; }
.portfolio-grid {
    column-count: 3;
    column-gap: 20px;
}
.portfolio-item {
    margin-bottom: 20px;
    break-inside: avoid;
}
.portfolio-item img {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 12px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.portfolio-item img:hover {
    transform: scale(1.02);
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}
.dark-mode .portfolio-item img:hover {
    box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}

/* --- Loader Spinner --- */
.loader {
    width: 48px;
    height: 48px;
    border: 3px solid var(--subtle-text-color);
    border-bottom-color: transparent;
    border-radius: 50%;
    margin: 40px auto;
    animation: rotation 1s linear infinite;
    display: none; /* Hidden by default */
}
.loader.visible { display: block; }
@keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* --- Footer --- (No changes) */
.main-footer{text-align:center;padding:40px 20px;border-top:1px solid var(--border-color);color:var(--subtle-text-color);font-size:14px}

/* --- Contact Modal --- (No changes) */
.modal{display:none;position:fixed;z-index:1001;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);opacity:0;transition:opacity .3s ease}.modal.visible{display:block;opacity:1}.modal-content{background-color:var(--modal-bg);border:1px solid var(--border-color);border-radius:16px;padding:30px 40px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(.95);width:90%;max-width:320px;text-align:center;transition:all .3s ease}.modal.visible .modal-content{transform:translate(-50%,-50%) scale(1)}.close-button{position:absolute;top:10px;right:15px;color:var(--subtle-text-color);font-size:28px;font-weight:700;background:none;border:none;cursor:pointer}.modal-content h3{font-size:24px;margin-bottom:20px;color:var(--text-color)}.social-links{display:flex;flex-direction:column;gap:15px}.social-links a{color:#007aff;text-decoration:none;font-size:18px;padding:10px;border-radius:8px;transition:background-color .2s ease}.social-links a:hover{background-color:rgba(0,122,255,.1)}

/* --- Responsive Design --- */
@media (max-width: 768px) {
    .about-container{flex-direction:column;gap:40px}.about-image{flex:0 0 auto;width:250px;max-width:70%}.about-text h2{text-align:center}
    .portfolio-grid { column-count: 2; column-gap: 15px; }
    .content-section { padding: 40px 15px; }
}
@media (max-width: 480px) {
    .portfolio-grid { column-count: 1; }
    .logo { display: none; }
    .header-content { justify-content: flex-end; }
}